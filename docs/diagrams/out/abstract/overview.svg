<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1285px" preserveAspectRatio="none" style="width:1021px;height:1285px;" version="1.1" viewBox="0 0 1021 1285" width="1021px" zoomAndPan="magnify"><defs><filter height="300%" id="f11xzmdxj6iprs" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[e913b129acfef1beef33c5f8e4ec2f22]
cluster fastmsa--><polygon fill="#FFFFFF" filter="url(#f11xzmdxj6iprs)" points="53.94,6,99.94,6,106.94,26.6309,845.94,26.6309,845.94,702,53.94,702,53.94,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="53.94" x2="106.94" y1="26.6309" y2="26.6309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="40" x="57.94" y="19.8701">fastmsa</text><!--MD5=[01435ace8273dc3cae88e7f376e4d373]
cluster core--><polygon fill="#FFFFFF" filter="url(#f11xzmdxj6iprs)" points="96.94,55,124.94,55,131.94,75.6309,777.94,75.6309,777.94,401,96.94,401,96.94,55" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="96.94" x2="131.94" y1="75.6309" y2="75.6309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="22" x="100.94" y="68.8701">core</text><!--MD5=[883ea6a289136bd42d46f52fd78ed99b]
cluster <<site-packages>>--><polygon fill="#FFFFFF" filter="url(#f11xzmdxj6iprs)" points="51.94,834.5,159.94,834.5,166.94,855.1309,219.94,855.1309,219.94,1108.5,51.94,1108.5,51.94,834.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="51.94" x2="166.94" y1="855.1309" y2="855.1309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102" x="55.94" y="848.3701">&lt;&lt;site-packages&gt;&gt;</text><!--MD5=[3b3acb990373e6ba04ce80fb219ae426]
cluster userapp--><rect fill="#FFFFFF" filter="url(#f11xzmdxj6iprs)" height="495" style="stroke:#000000;stroke-width:1.5;" width="499" x="510.94" y="778"/><line style="stroke:#000000;stroke-width:1.5;" x1="510.94" x2="1009.94" y1="796.6309" y2="796.6309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="56" x="732.44" y="791.8701">User's App</text><!--MD5=[7faa35d26e60054c8134dba55cf137d3]
cluster app.config--><polygon fill="#FFFFFF" filter="url(#f11xzmdxj6iprs)" points="558.94,835,620.94,835,627.94,855.6309,693.94,855.6309,693.94,932,558.94,932,558.94,835" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="558.94" x2="627.94" y1="855.6309" y2="855.6309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="56" x="562.94" y="848.8701">app.config</text><!--MD5=[d5ac3844f66b12d9e08170e47495e096]
cluster app--><polygon fill="#FFFFFF" filter="url(#f11xzmdxj6iprs)" points="558.94,999,584.94,999,591.94,1019.6309,969.94,1019.6309,969.94,1233,558.94,1233,558.94,999" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="558.94" x2="591.94" y1="1019.6309" y2="1019.6309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="20" x="562.94" y="1012.8701">app</text><!--MD5=[f21a6d95ca02a53ee6bdcd9a45e80338]
class FastMSA--><rect codeLine="47" fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="69.2617" id="FastMSA" style="stroke:#A80036;stroke-width:1.5;" width="111" x="587.44" y="617"/><ellipse cx="617.29" cy="633" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M617.3994,628.3438 L616.2431,633.4219 L618.5713,633.4219 L617.3994,628.3438 Z M615.915,626.1094 L618.8994,626.1094 L622.2588,638.5 L619.8056,638.5 L619.04,635.4375 L615.7588,635.4375 L615.0088,638.5 L612.5713,638.5 L615.915,626.1094 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46" x="634.59" y="637.9688">FastMSA</text><line style="stroke:#A80036;stroke-width:1.5;" x1="588.44" x2="697.44" y1="649" y2="649"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="60" x="593.44" y="664.8701">+db_url: str</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="99" x="593.44" y="679.501">+module_name: str</text><!--MD5=[283be3cf48f6ce96fe8a277ee7db5ac6]
class SqlAlchemyUnitOfWork--><rect fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="32" id="SqlAlchemyUnitOfWork" style="stroke:#A80036;stroke-width:1.5;" width="158" x="256.94" y="472.5"/><ellipse cx="271.94" cy="488.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M274.9088,494.1406 Q274.3306,494.4375 273.69,494.5781 Q273.0494,494.7344 272.3463,494.7344 Q269.8463,494.7344 268.5181,493.0938 Q267.2056,491.4375 267.2056,488.3125 Q267.2056,485.1875 268.5181,483.5313 Q269.8463,481.875 272.3463,481.875 Q273.0494,481.875 273.69,482.0313 Q274.3463,482.1875 274.9088,482.4844 L274.9088,485.2031 Q274.2838,484.625 273.69,484.3594 Q273.0963,484.0781 272.4713,484.0781 Q271.1275,484.0781 270.44,485.1563 Q269.7525,486.2188 269.7525,488.3125 Q269.7525,490.4063 270.44,491.4844 Q271.1275,492.5469 272.4713,492.5469 Q273.0963,492.5469 273.69,492.2813 Q274.2838,492 274.9088,491.4219 L274.9088,494.1406 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="126" x="285.94" y="493.4688">SqlAlchemyUnitOfWork</text><!--MD5=[f2f3f83043aaed8b939dd6bad1041c82]
class SqlAlchemyRepository--><rect fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="32" id="SqlAlchemyRepository" style="stroke:#A80036;stroke-width:1.5;" width="151" x="70.44" y="472.5"/><ellipse cx="85.44" cy="488.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M88.4088,494.1406 Q87.8306,494.4375 87.19,494.5781 Q86.5494,494.7344 85.8463,494.7344 Q83.3463,494.7344 82.0181,493.0938 Q80.7056,491.4375 80.7056,488.3125 Q80.7056,485.1875 82.0181,483.5313 Q83.3463,481.875 85.8463,481.875 Q86.5494,481.875 87.19,482.0313 Q87.8463,482.1875 88.4088,482.4844 L88.4088,485.2031 Q87.7838,484.625 87.19,484.3594 Q86.5963,484.0781 85.9713,484.0781 Q84.6275,484.0781 83.94,485.1563 Q83.2525,486.2188 83.2525,488.3125 Q83.2525,490.4063 83.94,491.4844 Q84.6275,492.5469 85.9713,492.5469 Q86.5963,492.5469 87.19,492.2813 Q87.7838,492 88.4088,491.4219 L88.4088,494.1406 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="119" x="99.44" y="493.4688">SqlAlchemyRepository</text><!--MD5=[7ab6395ea3d7ce6833c93c88d2c04f86]
class RedisMessageBroker--><rect codeLine="59" fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="64.5527" id="RedisMessageBroker" style="stroke:#A80036;stroke-width:1.5;" width="157" x="450.44" y="456"/><ellipse cx="473.09" cy="476.9609" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M476.0588,482.6016 Q475.4806,482.8984 474.84,483.0391 Q474.1994,483.1953 473.4963,483.1953 Q470.9963,483.1953 469.6681,481.5547 Q468.3556,479.8984 468.3556,476.7734 Q468.3556,473.6484 469.6681,471.9922 Q470.9963,470.3359 473.4963,470.3359 Q474.1994,470.3359 474.84,470.4922 Q475.4963,470.6484 476.0588,470.9453 L476.0588,473.6641 Q475.4338,473.0859 474.84,472.8203 Q474.2463,472.5391 473.6213,472.5391 Q472.2775,472.5391 471.59,473.6172 Q470.9025,474.6797 470.9025,476.7734 Q470.9025,478.8672 471.59,479.9453 Q472.2775,481.0078 473.6213,481.0078 Q474.2463,481.0078 474.84,480.7422 Q475.4338,480.4609 476.0588,479.8828 L476.0588,482.6016 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="55" x="515.29" y="473.9492">«optional»</text><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="108" x="488.79" y="489.9102">RedisMessageBroker</text><line style="stroke:#A80036;stroke-width:1.5;" x1="451.44" x2="606.44" y1="497.9219" y2="497.9219"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="145" x="456.44" y="513.792">client: AbstractPubsubClient</text><!--MD5=[d3f0c0a2568298de2368c0a8ad204bd4]
class FastAPIAdapter--><rect fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="32" id="FastAPIAdapter" style="stroke:#A80036;stroke-width:1.5;" width="113" x="642.44" y="472.5"/><ellipse cx="657.44" cy="488.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M660.4088,494.1406 Q659.8306,494.4375 659.19,494.5781 Q658.5494,494.7344 657.8463,494.7344 Q655.3463,494.7344 654.0181,493.0938 Q652.7056,491.4375 652.7056,488.3125 Q652.7056,485.1875 654.0181,483.5313 Q655.3463,481.875 657.8463,481.875 Q658.5494,481.875 659.19,482.0313 Q659.8463,482.1875 660.4088,482.4844 L660.4088,485.2031 Q659.7838,484.625 659.19,484.3594 Q658.5963,484.0781 657.9713,484.0781 Q656.6275,484.0781 655.94,485.1563 Q655.2525,486.2188 655.2525,488.3125 Q655.2525,490.4063 655.94,491.4844 Q656.6275,492.5469 657.9713,492.5469 Q658.5963,492.5469 659.19,492.2813 Q659.7838,492 660.4088,491.4219 L660.4088,494.1406 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="81" x="671.44" y="493.4688">FastAPIAdapter</text><!--MD5=[6e2db83acd545da120cd1e17d18466cd]
class FastMSACommand--><rect codeLine="67" fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="41.9219" id="FastMSACommand" style="stroke:#A80036;stroke-width:1.5;" width="135" x="417.44" y="630.5"/><ellipse cx="432.44" cy="651.4609" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M435.4088,657.1016 Q434.8306,657.3984 434.19,657.5391 Q433.5494,657.6953 432.8463,657.6953 Q430.3463,657.6953 429.0181,656.0547 Q427.7056,654.3984 427.7056,651.2734 Q427.7056,648.1484 429.0181,646.4922 Q430.3463,644.8359 432.8463,644.8359 Q433.5494,644.8359 434.19,644.9922 Q434.8463,645.1484 435.4088,645.4453 L435.4088,648.1641 Q434.7838,647.5859 434.19,647.3203 Q433.5963,647.0391 432.9713,647.0391 Q431.6275,647.0391 430.94,648.1172 Q430.2525,649.1797 430.2525,651.2734 Q430.2525,653.3672 430.94,654.4453 Q431.6275,655.5078 432.9713,655.5078 Q433.5963,655.5078 434.19,655.2422 Q434.7838,654.9609 435.4088,654.3828 L435.4088,657.1016 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="79" x="458.44" y="648.4492">«bootstrapper»</text><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="103" x="446.44" y="664.4102">FastMSACommand</text><!--MD5=[2ae6e04bc2ee3632a8cf20b159da81f7]
class FastMSACommandParser--><rect codeLine="70" fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="32" id="FastMSACommandParser" style="stroke:#A80036;stroke-width:1.5;" width="167" x="215.44" y="635.5"/><ellipse cx="230.44" cy="651.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M233.4088,657.1406 Q232.8306,657.4375 232.19,657.5781 Q231.5494,657.7344 230.8463,657.7344 Q228.3463,657.7344 227.0181,656.0938 Q225.7056,654.4375 225.7056,651.3125 Q225.7056,648.1875 227.0181,646.5313 Q228.3463,644.875 230.8463,644.875 Q231.5494,644.875 232.19,645.0313 Q232.8463,645.1875 233.4088,645.4844 L233.4088,648.2031 Q232.7838,647.625 232.19,647.3594 Q231.5963,647.0781 230.9713,647.0781 Q229.6275,647.0781 228.94,648.1563 Q228.2525,649.2188 228.2525,651.3125 Q228.2525,653.4063 228.94,654.4844 Q229.6275,655.5469 230.9713,655.5469 Q231.5963,655.5469 232.19,655.2813 Q232.7838,655 233.4088,654.4219 L233.4088,657.1406 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="135" x="244.44" y="656.4688">FastMSACommandParser</text><!--MD5=[62ac8497b13c043b65381b6f7663a459]
class MessageBus--><rect fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="32" id="MessageBus" style="stroke:#A80036;stroke-width:1.5;" width="97" x="733.44" y="635.5"/><ellipse cx="748.44" cy="651.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M751.4088,657.1406 Q750.8306,657.4375 750.19,657.5781 Q749.5494,657.7344 748.8463,657.7344 Q746.3463,657.7344 745.0181,656.0938 Q743.7056,654.4375 743.7056,651.3125 Q743.7056,648.1875 745.0181,646.5313 Q746.3463,644.875 748.8463,644.875 Q749.5494,644.875 750.19,645.0313 Q750.8463,645.1875 751.4088,645.4844 L751.4088,648.2031 Q750.7838,647.625 750.19,647.3594 Q749.5963,647.0781 748.9713,647.0781 Q747.6275,647.0781 746.94,648.1563 Q746.2525,649.2188 746.2525,651.3125 Q746.2525,653.4063 746.94,654.4844 Q747.6275,655.5469 748.9713,655.5469 Q749.5963,655.5469 750.19,655.2813 Q750.7838,655 751.4088,654.4219 L751.4088,657.1406 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="65" x="762.44" y="656.4688">MessageBus</text><!--MD5=[35bbd0d5cf6cad944c9f920d9369aca7]
class AbstractMSA--><rect codeLine="13" fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="121.1543" id="AbstractMSA" style="stroke:#A80036;stroke-width:1.5;" width="180" x="288.94" y="96"/><ellipse cx="340.69" cy="112" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M340.7994,107.3438 L339.6431,112.4219 L341.9713,112.4219 L340.7994,107.3438 Z M339.315,105.1094 L342.2994,105.1094 L345.6588,117.5 L343.2056,117.5 L342.44,114.4375 L339.1588,114.4375 L338.4088,117.5 L335.9713,117.5 L339.315,105.1094 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="68" x="361.19" y="116.9688">AbstractMSA</text><line style="stroke:#A80036;stroke-width:1.5;" x1="289.94" x2="467.94" y1="128" y2="128"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="55" x="294.94" y="143.8701">+name: str</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="47" x="294.94" y="158.501">+title: str</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="289.94" x2="467.94" y1="165.2617" y2="165.2617"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="88" x="294.94" y="181.1318">+api: AbstractAPI</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="142" x="294.94" y="195.7627">+uow: AbstractUnitOfWork</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="168" x="294.94" y="210.3936">+broker: AbstractMessageBroker</text><!--MD5=[d92f53add19602b0cb68401c46aa96b3]
class AbstractAPI--><rect codeLine="22" fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="98.5234" id="AbstractAPI" style="stroke:#A80036;stroke-width:1.5;" width="94" x="651.94" y="278"/><ellipse cx="666.94" cy="294" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M667.0494,289.3438 L665.8931,294.4219 L668.2213,294.4219 L667.0494,289.3438 Z M665.565,287.1094 L668.5494,287.1094 L671.9088,299.5 L669.4556,299.5 L668.69,296.4375 L665.4088,296.4375 L664.6588,299.5 L662.2213,299.5 L665.565,287.1094 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62" x="680.94" y="298.9688">AbstractAPI</text><line style="stroke:#A80036;stroke-width:1.5;" x1="652.94" x2="744.94" y1="310" y2="310"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="46" x="657.94" y="325.8701">+post(...)</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="40" x="657.94" y="340.501">+get(...)</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="41" x="657.94" y="355.1318">+put(...)</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="55" x="657.94" y="369.7627">+delete(...)</text><!--MD5=[fc1789afa6e3ef8ba384271440b29528]
class AbstractUnitOfWork--><rect codeLine="29" fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="32" id="AbstractUnitOfWork" style="stroke:#A80036;stroke-width:1.5;" width="138" x="287.94" y="311.5"/><ellipse cx="302.94" cy="327.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M303.0494,322.8438 L301.8931,327.9219 L304.2213,327.9219 L303.0494,322.8438 Z M301.565,320.6094 L304.5494,320.6094 L307.9088,333 L305.4556,333 L304.69,329.9375 L301.4088,329.9375 L300.6588,333 L298.2213,333 L301.565,320.6094 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="106" x="316.94" y="332.4688">AbstractUnitOfWork</text><!--MD5=[f3387eeefd4c36a54505af050e74bae9]
class AbstractMessageBroker--><rect codeLine="43" fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="32" id="AbstractMessageBroker" style="stroke:#A80036;stroke-width:1.5;" width="155" x="461.44" y="311.5"/><ellipse cx="476.44" cy="327.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M472.3619,323.2656 L472.3619,321.1094 L479.7525,321.1094 L479.7525,323.2656 L477.2838,323.2656 L477.2838,331.3438 L479.7525,331.3438 L479.7525,333.5 L472.3619,333.5 L472.3619,331.3438 L474.8306,331.3438 L474.8306,323.2656 L472.3619,323.2656 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="123" x="490.44" y="332.4688">AbstractMessageBroker</text><!--MD5=[3ba8613b4099b924feef1763025cfafc]
class AbstractMessageHandler--><rect codeLine="39" fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="54.6309" id="AbstractMessageHandler" style="stroke:#A80036;stroke-width:1.5;" width="165" x="569.44" y="129"/><ellipse cx="584.44" cy="145" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M580.3619,140.7656 L580.3619,138.6094 L587.7525,138.6094 L587.7525,140.7656 L585.2838,140.7656 L585.2838,148.8438 L587.7525,148.8438 L587.7525,151 L580.3619,151 L580.3619,148.8438 L582.8306,148.8438 L582.8306,140.7656 L580.3619,140.7656 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="133" x="598.44" y="149.9688">AbstractMessageHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="570.44" x2="733.44" y1="161" y2="161"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacing" textLength="145" x="575.44" y="176.8701">client: AbstractPubsubClient</text><!--MD5=[2a53d12d41f7ad07b670c186c6bdcd4c]
class AbstractRepository--><rect fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="32" id="AbstractRepository" style="stroke:#A80036;stroke-width:1.5;" width="132" x="120.94" y="311.5"/><ellipse cx="135.94" cy="327.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M138.9088,333.1406 Q138.3306,333.4375 137.69,333.5781 Q137.0494,333.7344 136.3463,333.7344 Q133.8463,333.7344 132.5181,332.0938 Q131.2056,330.4375 131.2056,327.3125 Q131.2056,324.1875 132.5181,322.5313 Q133.8463,320.875 136.3463,320.875 Q137.0494,320.875 137.69,321.0313 Q138.3463,321.1875 138.9088,321.4844 L138.9088,324.2031 Q138.2838,323.625 137.69,323.3594 Q137.0963,323.0781 136.4713,323.0781 Q135.1275,323.0781 134.44,324.1563 Q133.7525,325.2188 133.7525,327.3125 Q133.7525,329.4063 134.44,330.4844 Q135.1275,331.5469 136.4713,331.5469 Q137.0963,331.5469 137.69,331.2813 Q138.2838,331 138.9088,330.4219 L138.9088,333.1406 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="100" x="149.94" y="332.4688">AbstractRepository</text><polygon fill="#FFFFFF" filter="url(#f11xzmdxj6iprs)" points="148.44,867.5,189.44,867.5,196.44,888.1309,203.44,888.1309,203.44,916.7617,148.44,916.7617,148.44,867.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="148.44" x2="196.44" y1="888.1309" y2="888.1309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="35" x="152.44" y="881.3701">fastapi</text><polygon fill="#FFFFFF" filter="url(#f11xzmdxj6iprs)" points="96.94,1043.5,160.94,1043.5,167.94,1064.1309,174.94,1064.1309,174.94,1092.7617,96.94,1092.7617,96.94,1043.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="96.94" x2="167.94" y1="1064.1309" y2="1064.1309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="58" x="100.94" y="1057.3701">sqlalchemy</text><polygon fill="#FFFFFF" filter="url(#f11xzmdxj6iprs)" points="68.44,867.5,99.44,867.5,106.44,888.1309,113.44,888.1309,113.44,916.7617,68.44,916.7617,68.44,867.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="68.44" x2="106.44" y1="888.1309" y2="888.1309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="25" x="72.44" y="881.3701">redis</text><!--MD5=[8f89c3b771be60a8fe1c771d5b27a045]
entity f--><polygon fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" points="717.44,872.5,717.44,911.1211,792.44,911.1211,792.44,882.5,782.44,872.5,717.44,872.5" style="stroke:#000000;stroke-width:1.5;"/><path d="M782.44,872.5 L782.44,882.5 L792.44,882.5 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="Segoe UI" font-size="14" lengthAdjust="spacing" textLength="55" x="727.44" y="897.6074">setup.cfg</text><!--MD5=[4bf8aff396996fef456cd268939daa24]
class Config--><rect codeLine="93" fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" height="32" id="Config" style="stroke:#A80036;stroke-width:1.5;" width="68" x="601.94" y="876"/><ellipse cx="616.94" cy="892" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M619.9088,897.6406 Q619.3306,897.9375 618.69,898.0781 Q618.0494,898.2344 617.3463,898.2344 Q614.8463,898.2344 613.5181,896.5938 Q612.2056,894.9375 612.2056,891.8125 Q612.2056,888.6875 613.5181,887.0313 Q614.8463,885.375 617.3463,885.375 Q618.0494,885.375 618.69,885.5313 Q619.3463,885.6875 619.9088,885.9844 L619.9088,888.7031 Q619.2838,888.125 618.69,887.8594 Q618.0963,887.5781 617.4713,887.5781 Q616.1275,887.5781 615.44,888.6563 Q614.7525,889.7188 614.7525,891.8125 Q614.7525,893.9063 615.44,894.9844 Q616.1275,896.0469 617.4713,896.0469 Q618.0963,896.0469 618.69,895.7813 Q619.2838,895.5 619.9088,894.9219 L619.9088,897.6406 Z " fill="#000000"/><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="36" x="630.94" y="896.9688">Config</text><!--MD5=[8890788e37b11dd3053f547e2b5ce265]
entity domain--><polygon fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" points="601.94,1049,659.94,1049,666.94,1069.6309,683.94,1069.6309,683.94,1086.6309,601.94,1086.6309,601.94,1049" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="601.94" x2="666.94" y1="1069.6309" y2="1069.6309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="40" x="611.94" y="1063.8701">domain</text><!--MD5=[014aa0cc6e6a134e8f0e818919544259]
entity handlers--><polygon fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" points="719.44,1040,782.44,1040,789.44,1060.6309,828.44,1060.6309,828.44,1096.252,719.44,1096.252,719.44,1040" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="719.44" x2="789.44" y1="1060.6309" y2="1060.6309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="45" x="729.44" y="1054.8701">handlers</text><text fill="#000000" font-family="Segoe UI" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="729.44" y="1082.7383">«Command»</text><!--MD5=[1affcf8a646183f59d752b76f98e02e7]
entity views--><polygon fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" points="863.94,1040,910.94,1040,917.94,1060.6309,945.94,1060.6309,945.94,1096.252,863.94,1096.252,863.94,1040" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="863.94" x2="917.94" y1="1060.6309" y2="1060.6309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="29" x="873.94" y="1054.8701">views</text><text fill="#000000" font-family="Segoe UI" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="52" x="873.94" y="1082.7383">«Query»</text><!--MD5=[800abf3622c134f85427057589664eb8]
entity routes--><polygon fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" points="605.44,1171,656.44,1171,663.44,1191.6309,680.44,1191.6309,680.44,1208.6309,605.44,1208.6309,605.44,1171" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="605.44" x2="663.44" y1="1191.6309" y2="1191.6309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="33" x="615.44" y="1185.8701">routes</text><!--MD5=[0bb9c21cf77994669bd82826522e1a46]
entity adapters--><polygon fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" points="715.44,1171,778.44,1171,785.44,1191.6309,802.44,1191.6309,802.44,1208.6309,715.44,1208.6309,715.44,1171" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="715.44" x2="785.44" y1="1191.6309" y2="1191.6309"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="45" x="725.44" y="1185.8701">adapters</text><!--MD5=[fee662a292a0353a69bd162820bae93b]
entity User--><ellipse cx="351.94" cy="1035.5" fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.5;"/><path d="M351.94,1043.5 L351.94,1070.5 M338.94,1051.5 L364.94,1051.5 M351.94,1070.5 L338.94,1085.5 M351.94,1070.5 L364.94,1085.5 " fill="none" filter="url(#f11xzmdxj6iprs)" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="Segoe UI" font-size="14" lengthAdjust="spacing" textLength="28" x="337.94" y="1106.1074">User</text><!--MD5=[f9ba5bf973e7832d2ce5ed59077b93f7]
entity DB--><path d="M391.94,878 C391.94,868 410.94,868 410.94,868 C410.94,868 429.94,868 429.94,878 L429.94,905.6211 C429.94,915.6211 410.94,915.6211 410.94,915.6211 C410.94,915.6211 391.94,915.6211 391.94,905.6211 L391.94,878 " fill="#FEFECE" filter="url(#f11xzmdxj6iprs)" style="stroke:#000000;stroke-width:1.5;"/><path d="M391.94,878 C391.94,888 410.94,888 410.94,888 C410.94,888 429.94,888 429.94,878 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="Segoe UI" font-size="14" lengthAdjust="spacing" textLength="18" x="401.94" y="907.1074">DB</text><!--MD5=[c84eb44f0fe8d166e3d0902bd2ac2861]
link AbstractMSA to AbstractUnitOfWork--><path codeLine="32" d="M371.18,217.08 C367.13,248.23 362.43,284.33 359.57,306.29 " fill="none" id="AbstractMSA-to-AbstractUnitOfWork" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="358.92,311.28,364.0442,302.8692,359.563,306.3215,356.1107,301.8403,358.92,311.28" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="24" x="344.8953" y="239.1036">uow</text><!--MD5=[1b5c446b9b78390cc97730571a54618c]
link AbstractMSA to AbstractMessageBroker--><path codeLine="33" d="M435.35,217.08 C465.33,248.75 500.17,285.55 520.84,307.38 " fill="none" id="AbstractMSA-to-AbstractMessageBroker" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="524.53,311.28,521.2745,301.9847,521.1032,307.639,515.4489,307.4677,524.53,311.28" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="39" x="400.6177" y="239.1036">broker</text><!--MD5=[7cb068d9470286b0f0fb8e24a4d12af5]
link AbstractMSA to AbstractAPI--><path codeLine="34" d="M469.12,194.83 C518.96,216.76 581.27,246.34 633.94,278 C638.47,280.72 643.06,283.69 647.61,286.77 " fill="none" id="AbstractMSA-to-AbstractAPI" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="651.77,289.62,646.6197,281.2251,647.6498,286.7874,642.0875,287.8174,651.77,289.62" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="0" x="503.8587" y="212.5902"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="18" x="508.8587" y="229.8812">api</text><!--MD5=[5328f083cd90adc699c7ec96747a4b68]
link AbstractMSA to AbstractMessageHandler--><path codeLine="35" d="M469.09,156.5 C499.62,156.5 533.67,156.5 564.04,156.5 " fill="none" id="AbstractMSA-to-AbstractMessageHandler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="569.27,156.5,560.27,152.5,564.27,156.5,560.27,160.5,569.27,156.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="73" x="476.8077" y="171.0505">messagebus</text><!--MD5=[25b7de0dcc0571f8303b6eb241b29c81]
reverse link AbstractRepository to AbstractUnitOfWork--><path codeLine="37" d="M258.2,327.5 C268.11,327.5 278.02,327.5 287.93,327.5 " fill="none" id="AbstractRepository-backto-AbstractUnitOfWork" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="253.01,327.5,262.01,331.5,258.01,327.5,262.01,323.5,253.01,327.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[889a1a06a60179f23f361c3145043a52]
reverse link AbstractMessageHandler to AbstractMessageBroker--><path d="M622.62,201.34 C598.39,237.59 565.39,286.93 549.02,311.43 " fill="none" id="AbstractMessageHandler-backto-AbstractMessageBroker" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="617.1,197.01,634.03,184.28,628.74,204.8,617.1,197.01" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5e1a77dd5a88a4cb46fd5cdb157fbb86]
reverse link AbstractMSA to FastMSA--><path codeLine="52" d="M488.35,196.07 C509.39,203.22 531.3,210.49 551.94,217 C645.44,246.51 703.01,201.19 763.94,278 C797.52,320.34 793.67,471.1 772.94,521 C756.63,560.28 721.97,593.81 692.55,616.9 " fill="none" id="AbstractMSA-backto-FastMSA" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="none" points="485.99,202.66,469.33,189.56,490.52,189.42,485.99,202.66" style="stroke:#A80036;stroke-width:2.0;"/><!--MD5=[008ccdaa1c24bd1794a851f5eb54a405]
reverse link AbstractUnitOfWork to SqlAlchemyUnitOfWork--><path codeLine="53" d="M352.28,363.75 C347.81,397.61 341.26,447.19 337.98,472.07 " fill="none" id="AbstractUnitOfWork-backto-SqlAlchemyUnitOfWork" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="345.37,362.66,354.93,343.75,359.25,364.49,345.37,362.66" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8016762716902ab8e8312d1e02fcee1f]
reverse link AbstractRepository to SqlAlchemyRepository--><path codeLine="54" d="M177.98,363.26 C169.24,397.13 156.36,447.07 149.92,472.07 " fill="none" id="AbstractRepository-backto-SqlAlchemyRepository" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="171.24,361.36,183.01,343.75,184.79,364.86,171.24,361.36" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[043dcf784e084aa9b037827d972f9eee]
reverse link AbstractMessageBroker to RedisMessageBroker--><path codeLine="55" d="M536.71,364 C534.97,391.57 532.59,429.44 530.92,455.95 " fill="none" id="AbstractMessageBroker-backto-RedisMessageBroker" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="529.74,363.27,537.98,343.75,543.71,364.15,529.74,363.27" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[855ccae3a2d1dde4cc1ee6f54d344cdf]
reverse link AbstractAPI to FastAPIAdapter--><path codeLine="56" d="M698.94,397.38 C698.94,425.32 698.94,455.05 698.94,472.41 " fill="none" id="AbstractAPI-backto-FastAPIAdapter" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="691.94,397.07,698.94,377.07,705.94,397.07,691.94,397.07" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fc0f74b9503febf018d074f58a9783e8]
link SqlAlchemyRepository to SqlAlchemyUnitOfWork--><path codeLine="57" d="M234.87,488.5 C237.85,488.5 244.91,488.5 244.91,488.5 " fill="none" id="SqlAlchemyRepository-SqlAlchemyUnitOfWork" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="256.91,488.5,250.91,484.5,244.91,488.5,250.91,492.5,256.91,488.5" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="221.64,488.5,230.64,492.5,226.64,488.5,230.64,484.5,221.64,488.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="226.64" x2="234.64" y1="488.5" y2="488.5"/><!--MD5=[2c187f6d9e88f32269962f5442004a3e]
reverse link FastAPIAdapter to FastMSA--><path codeLine="63" d="M692.02,509.4 C682.69,536.22 665.95,584.34 654.65,616.84 " fill="none" id="FastAPIAdapter-backto-FastMSA" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="693.67,504.65,686.9311,511.8324,692.0246,509.3715,694.4855,514.465,693.67,504.65" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cb7689ee60ff87e325842585b737b64d]
reverse link RedisMessageBroker to FastMSA--><path codeLine="64" d="M554.5,525.6 C573.83,552.9 600.19,590.12 619.09,616.82 " fill="none" id="RedisMessageBroker-backto-FastMSA" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="551.46,521.31,553.3849,530.9689,554.3445,525.394,559.9194,526.3537,551.46,521.31" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[24a9c144a90e88f4f2ac5e45dfe66e67]
reverse link SqlAlchemyUnitOfWork to FastMSA--><path codeLine="65" d="M369.14,506.91 C421.43,534.33 523.55,587.89 587.22,621.28 " fill="none" id="SqlAlchemyUnitOfWork-backto-FastMSA" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="364.55,504.5,370.6544,512.229,368.9755,506.827,374.3775,505.1481,364.55,504.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ff259a1bf79640908935683cdc534ecc]
reverse link AbstractMessageHandler to MessageBus--><path codeLine="72" d="M705.02,195.64 C716.04,203.03 727.72,210.5 738.94,217 C765.42,232.35 784.68,221.07 800.94,247 C882.34,376.82 810.95,578.98 788.28,635.42 " fill="none" id="AbstractMessageHandler-backto-MessageBus" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="700.93,201.32,688.41,184.23,708.86,189.78,700.93,201.32" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[58060c75820476fe4f7c80f532933506]
link FastMSA to MessageBus--><path codeLine="74" d="M698.59,651.5 C708.48,651.5 718.37,651.5 728.26,651.5 " fill="none" id="FastMSA-to-MessageBus" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="733.43,651.5,724.43,647.5,728.43,651.5,724.43,655.5,733.43,651.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0a47620ee022cfc92fb34acc8522cac5]
link fastapi to sqlalchemy--><!--MD5=[c4cca55075606ea3ffd3dafd25b06d49]
link SqlAlchemyUnitOfWork to sqlalchemy--><path codeLine="86" d="M292.76,504.56 C276.06,510.11 256.72,516.21 238.94,521 C177.92,537.45 150.11,512.56 99.94,551 C73.75,571.07 75.36,585.38 65.94,617 C23.92,758.14 6,807.76 50.94,948 C62.22,983.2 88.16,1016.85 108.44,1039.33 " fill="none" id="SqlAlchemyUnitOfWork-to-sqlalchemy" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:1.0,3.0;"/><polygon fill="#333333" points="111.89,1043.11,108.7669,1033.7694,108.5153,1039.4207,102.864,1039.169,111.89,1043.11" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[777710afd2794e699e89f529e8fdc857]
link FastAPIAdapter to fastapi--><path codeLine="87" d="M667,504.59 C654.13,510.28 639.03,516.46 624.94,521 C439.8,580.67 325.45,470.11 197.94,617 C137.48,686.65 155.77,807.3 168.36,862.25 " fill="none" id="FastAPIAdapter-to-fastapi" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:1.0,3.0;"/><polygon fill="#333333" points="169.56,867.36,171.3923,857.6831,168.4148,862.4929,163.605,859.5154,169.56,867.36" style="stroke:#333333;stroke-width:1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="45" x="172.4314" y="821.5116">imports</text><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="0" x="196.9314" y="838.8026"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="0" x="196.9314" y="856.0936"/><!--MD5=[4bf1ff3b4832ab6cde7c08fa31d21b61]
link RedisMessageBroker to redis--><path codeLine="88" d="M450.2,516.83 C444.4,518.39 438.6,519.8 432.94,521 C368.05,534.75 183.57,504.82 135.94,551 C49.9,634.41 71.33,796.81 84.43,862.45 " fill="none" id="RedisMessageBroker-to-redis" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:1.0,3.0;"/><polygon fill="#333333" points="85.44,867.38,87.5596,857.7619,84.4402,862.481,79.7211,859.3616,85.44,867.38" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[a957703b50f0e8064066f8ee669e9c6d]
reverse link f to app.config--><!--MD5=[d2945134300aa0958433edf2dafbad8a]
link app.config to app--><!--MD5=[16896ebcb1259329a2227f69b55a6735]
reverse link FastMSA to Config--><path codeLine="109" d="M641.36,706.38 C639.75,761.12 637.36,842.44 636.38,875.84 " fill="none" id="FastMSA-backto-Config" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="none" points="634.37,705.95,641.95,686.17,648.36,706.36,634.37,705.95" style="stroke:#A80036;stroke-width:2.0;"/><!--MD5=[0f06da25976366cf08152c8568bcb178]
reverse link userapp to User--><path codeLine="111" d="M510.6744,901.6159 C510.4307,901.8698 510.1822,902.1288 509.9289,902.3926 C508.916,903.4479 507.8277,904.5817 506.6695,905.7885 C504.3529,908.202 501.7562,910.9074 498.9214,913.8609 C487.5822,925.675 472.4331,941.4588 456.1638,958.41 C423.625,992.3125 386.605,1030.885 366.62,1051.71 " fill="none" id="userapp-backto-User" style="stroke:#A80036;stroke-width:3.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="510.6744,901.6159,501.5564,905.339,507.2121,905.2231,507.328,910.8788,510.6744,901.6159" style="stroke:#A80036;stroke-width:3.0;"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="67" x="455.94" y="971.0283">implements</text><!--MD5=[39ae2794a7af1cf4f72d4a00c4c2c820]
reverse link FastMSACommandParser to User--><path codeLine="112" d="M299.05,672.92 C299.6,721.13 302.71,845.69 319.94,948 C324.36,974.27 332.05,1003.13 338.78,1025.85 " fill="none" id="FastMSACommandParser-backto-User" style="stroke:#A80036;stroke-width:3.0;"/><polygon fill="#A80036" points="299,667.69,295.1031,676.7351,299.0571,672.6897,303.1026,676.6437,299,667.69" style="stroke:#A80036;stroke-width:3.0;"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="53" x="320.94" y="889.0283">executes:</text><text fill="#000000" font-family="Segoe UI" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="50" x="322.44" y="906.3193">msa run</text><!--MD5=[c4469807e8da122e1bb771ab5f85c499]
link FastMSACommandParser to FastMSACommand--><path codeLine="113" d="M382.49,651.5 C392.38,651.5 402.26,651.5 412.14,651.5 " fill="none" id="FastMSACommandParser-to-FastMSACommand" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="417.31,651.5,408.31,647.5,412.31,651.5,408.31,655.5,417.31,651.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bca3d6d8aa1370dbbba22694e8319143]
link FastMSACommand to FastMSA--><path codeLine="114" d="M552.52,651.5 C562.35,651.5 572.17,651.5 582,651.5 " fill="none" id="FastMSACommand-to-FastMSA" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="587.13,651.5,578.13,647.5,582.13,651.5,578.13,655.5,587.13,651.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[048e03df537a0040f473ce5ed8c75cce]
link FastMSACommand to f--><path codeLine="115" d="M512.12,672.66 C528.43,684.31 549.86,698.82 569.94,710 C619.3,737.49 644.62,723.47 685.94,762 C717.59,791.52 737.68,838.89 747.57,867.27 " fill="none" id="FastMSACommand-to-f" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="749.3,872.34,750.1778,862.5303,747.6846,867.6081,742.6068,865.115,749.3,872.34" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="48" x="676.94" y="741.5283">1) reads</text><!--MD5=[768793ea8581372fc786042fe7bd910c]
link FastMSACommand to userapp--><path codeLine="116" d="M487.84,672.83 C491.885,701.22 499.4825,754.515 506.155,801.3213 C507.8231,813.0228 509.4334,824.3188 510.916,834.7188 " fill="none" id="FastMSACommand-to-userapp" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="510.916,834.7188,513.6058,825.2443,510.2103,829.7688,505.6859,826.3733,510.916,834.7188" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="54" x="498.94" y="733.0283">2) import</text><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="50" x="500.94" y="750.3193">modules</text><!--MD5=[5da82773f6683680d9871bec66397c8f]
link FastMSACommand to DB--><path codeLine="117" d="M456.19,672.75 C442.29,684.28 426.93,700 418.94,718 C397.9,765.41 401.58,827.49 406.22,862.93 " fill="none" id="FastMSACommand-to-DB" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="406.91,867.96,409.6391,858.4968,406.2249,863.0072,401.7145,859.593,406.91,867.96" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="66" x="419.94" y="733.0283">3) connects</text><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="12" x="446.94" y="750.3193">to</text><!--MD5=[966139e06d42608ed408857df7995869]
reverse link core to app--><path d="M778.2791,163.6489 C778.4003,163.7418 778.5225,163.8356 778.6459,163.9304 C779.6329,164.6891 780.6912,165.5113 781.8142,166.3952 C784.0603,168.1629 786.565,170.1773 789.2755,172.4228 C800.1172,181.405 814.2494,194.0863 828.2738,209.48 C856.3225,240.2675 883.94,281.905 883.94,326.5 C883.94,326.5 883.94,326.5 883.94,893 C883.94,919.33 882.77,931.9 861.94,948 C764.12,1023.64 677.48,899.88 585.94,983 C582.5088,986.1163 579.6298,989.7095 577.2198,993.6186 C576.6173,994.5959 576.0441,995.5929 575.4989,996.6071 C575.2263,997.1142 574.9607,997.6256 574.702,998.1411 C574.5726,998.3988 574.4449,998.6575 574.3189,998.9171 " fill="none" id="core-backto-app" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="778.2791,163.6489,782.9892,172.2985,782.2476,166.6905,787.8557,165.9489,778.2791,163.6489" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="70" x="884.94" y="566.0283">depends on</text><text fill="#000000" font-family="Segoe UI" font-size="13" lengthAdjust="spacing" textLength="65" x="887.44" y="583.3193">abstraction</text><!--MD5=[1ad14b707ab0511b446dd58e0e5fc803]
link domain to handlers--><!--MD5=[9ae9cd7198c63c0eda7c9926f3dbce85]
link handlers to views--><!--MD5=[8704ba1f1f2617b2b3d41e3b722de5fe]
link domain to routes--><!--MD5=[ee31f0e8a8118b439f1e3efc772a9958]
link routes to adapters--><!--MD5=[dafff1d686183ef44ac8646834515afa]
@startuml "Dependency Architecture Overview"

hide empty members
skinparam defaultFontName "Segoe UI"
skinparam ClassAttributeIconSize 0
skinparam PackageFontSize 11
allow_mixing

Actor User
Database DB

package fastmsa {
    package core {
        abstract class AbstractMSA {
            + name: str
            + title: str
            ..
            + api: AbstractAPI
            + uow: AbstractUnitOfWork
            + broker: AbstractMessageBroker
        }

        abstract class AbstractAPI {
            + post(...)
            + get(...)
            + put(...)
            + delete(...)
        }

        abstract class AbstractUnitOfWork


        AbstractMSA "uow" - -> AbstractUnitOfWork
        AbstractMSA "broker" - -> AbstractMessageBroker
        AbstractMSA "\n\tapi" - -> AbstractAPI
        AbstractMSA "messagebus" -> AbstractMessageHandler: \t\t
        
        AbstractRepository <- AbstractUnitOfWork
        
        interface AbstractMessageHandler {
            client: AbstractPubsubClient
        }

        interface AbstractMessageBroker extends AbstractMessageHandler {
        }
    }

    abstract class FastMSA {
        + db_url: str
        + module_name: str
    }

    AbstractMSA <|-[thickness=2]- FastMSA
    AbstractUnitOfWork <|- - SqlAlchemyUnitOfWork
    AbstractRepository <|- - SqlAlchemyRepository
    AbstractMessageBroker <|- - RedisMessageBroker
    AbstractAPI <|- - FastAPIAdapter
    SqlAlchemyRepository <-o SqlAlchemyUnitOfWork  

    class RedisMessageBroker <<optional>> {
        client: AbstractPubsubClient
    }

    FastAPIAdapter <- - FastMSA
    RedisMessageBroker <- - FastMSA
    SqlAlchemyUnitOfWork <- - FastMSA

    class FastMSACommand <<bootstrapper>> {
    }

    class FastMSACommandParser
    
    AbstractMessageHandler <|- - - MessageBus

    FastMSA -> MessageBus
    
}

package <<site-packages>> {
    package fastapi {}
    package sqlalchemy {}
    package redis {}

    fastapi -[hidden]-> sqlalchemy
}

SqlAlchemyUnitOfWork -[#333,dotted]- -> sqlalchemy
FastAPIAdapter -[#333,dotted]- -> "imports\n\n" fastapi
RedisMessageBroker -[#333,dotted]- ->  redis

card "User's App" as userapp  {

    package app.config {
        class Config
    }
    
    file "setup.cfg" as f
    folder app {
        package domain
        package handlers <<Command>>
        package views <<Query>>
        package routes
        package adapters
    }
    
    f <-[hidden] app.config
    app.config -[hidden]-> app
}

FastMSA <|-[thickness=2]- Config

userapp <.[thickness=3]. User: implements
FastMSACommandParser <-[thickness=3]- User: "executes:\n<b>msa run</b>"
FastMSACommandParser -> FastMSACommand
FastMSACommand -> FastMSA
FastMSACommand ..> f: "1) reads"
FastMSACommand ..> userapp: "2) import\nmodules"
FastMSACommand ..> DB: "3) connects\nto"

core <- - - app: depends on\nabstraction

@endul

PlantUML version 1.2021.5(Sun Apr 25 20:20:28 KST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>